<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="" />
<title>sms_addon</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">sms_addon</td></tr>
</thead><tbody>
<tr>
	<td>setTimeout</td>
	<td>60000</td>
	<td></td>
</tr>
<!--start...-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--DB-->
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/tests/sms/sms_callback_balance</td>
	<td></td>
</tr>
<!--access test-->
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test User #1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>No available SMS LCR</td>
	<td></td>
</tr>
<!--=== LCR ===-->
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>lcr_name</td>
	<td>testinis</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>LCR successfully created</td>
	<td></td>
</tr>
<!--====tariffs========-->
<tr>
	<td>open</td>
	<td>/billing/tariffs/list</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>For providers - Inbound traffic</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>tariff_name</td>
	<td>testinis_tariff_sms</td>
</tr>
<tr>
	<td>click</td>
	<td>id=tariff_purpose_user_wholesale</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Tariff successfully created</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>tariff_name</td>
	<td>testinis_provider_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Tariff successfully created</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_name</td>
	<td>testas</td>
</tr>
<tr>
	<td>type</td>
	<td>provider_sms_provider_domain</td>
	<td>example.example.com</td>
</tr>
<tr>
	<td>click</td>
	<td>provider[use_subject]</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_sms_email_wait_time</td>
	<td>1</td>
</tr>
<tr>
	<td>click</td>
	<td>provider[wait_for_good_email]</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_email_good_keywords</td>
	<td>good</td>
</tr>
<tr>
	<td>click</td>
	<td>provider[wait_for_bad_email]</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_email_bad_keywords</td>
	<td>bad</td>
</tr>
<tr>
	<td>click</td>
	<td>provider[time_out_charge_user]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>provider[nan_keywords_charge_user]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>provider[pay_sms_receiver]</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>SMS Provider created</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test User #1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User subscribed to SMS service: Test User #1</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>user_id</td>
	<td>label=Test Reseller</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/tests/sql/acc_groups</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/permissions/edit/12?group_type=reseller</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>sms_addon_2</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/3</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//div[@id='confirm_without_message']/input</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test Reseller</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User subscribed to SMS service: Test Reseller</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/tests/sql/acc_groups</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/permissions/edit/12?group_type=reseller</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>sms_addon_2</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/3</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//div[@id='confirm_without_message']/input</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test Accountant</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User subscribed to SMS service: Test Accountant</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/101</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>id=sbmt</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test_reseller_1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User subscribed to SMS service: Test_reseller_1</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>user_id</td>
	<td>label=Test_user_1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<!--===============-->
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/2</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User updated</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/4</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/3</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/101</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/102</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/106</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<!--==rate for +370====-->
<tr>
	<td>open</td>
	<td>/billing/tariffs/rate_new/6?page=7&amp;st=L</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>5801</td>
	<td>0.1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--Test updating rates.-->
<tr>
	<td>open</td>
	<td>/billing/tariffs/ratedetail_edit/503</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=ratedetail_rate</td>
	<td>0.2</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Rate detail successfully updated</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=rate_503</td>
	<td>0.2000</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rates_list/6?st=L</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=details_img_503</td>
	<td>0.2000</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Rate successfully deleted</td>
	<td></td>
</tr>
<!--====Login as 101-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>Test_user_1</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_list</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>SMS list</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>No available SMS Provider</td>
	<td></td>
</tr>
<!--====Login as accountant-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>accountant</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>accountant1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_list</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcrs</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/providers</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/functions/sms_settings</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariffs</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/smsautodialer/campaigns</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_details/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_edit/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_edit_user/0</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_edit/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/rates/2</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/rate_new/2?st=A</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariff_edit/2</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariff_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<!--====Login as reseller-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>reseller</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>reseller1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_list</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<!--check links-->
<tr>
	<td>open</td>
	<td>/billing/tariffs/edit/6</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rates_list/6</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>You are not authorized to view this page</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/rates/3</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/delete_all_rates/3</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=page_title_icon</td>
	<td>Users subscribed to SMS service</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>No available SMS Tariff</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/smsautodialer/campaigns</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=page_title_icon</td>
	<td>SMS Campaigns</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcrs</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/providers</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/functions/sms_settings</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_details/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_edit/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<!--Negražus linkas, nes čia tarifo priskyrimas, o lcr'ų reselleris  neturi maryti-->
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/5</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=page_title</td>
	<td>SMS User</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_edit/1</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/rate_new/2?st=A</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariff_new</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<!--check sms subcriptions-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/rate_new/3?st=A</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>You are not authorized to view this page</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/permissions/edit/12?group_type=reseller</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>sms_addon_0</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>delete_3</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User was unsubscribed from SMS service: Test Reseller</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>delete_4</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User was unsubscribed from SMS service: Test Accountant</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>reseller</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>reseller1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_list</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/form_sms</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>accountant</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>accountant1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_list</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/form_sms</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_name</td>
	<td>asd</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/providers</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>SMS Provider deleted</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcrs</td>
	<td></td>
</tr>
<tr>
	<td>assertElementNotPresent</td>
	<td>notice</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/2</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>No available SMS LCR</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_name</td>
	<td>asd</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--// sms api provider test-->
<tr>
	<td>open</td>
	<td>/billing/users/edit/2</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=user_last_name</td>
	<td>L a s t N a m e</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=#confirm_without_message &gt; input[name=&quot;commit&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User's settings successfully changed: Test User L a s t N a m e</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/1</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>name=select_prov</td>
	<td>label=asd</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/provider_edit/2</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=prov_type</td>
	<td>label=API</td>
</tr>
<tr>
	<td>type</td>
	<td>id=api_string</td>
	<td>http://127.0.0.1/?&lt;%= USRFIRSTNAME %&gt;&amp;&lt;%= USRLASTNAME %&gt;</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>SMS Provider updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rate_new/7?st=A</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=rate_18</td>
	<td>0.3</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rate_new/6?st=A</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=rate_18</td>
	<td>0.4</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=login_username</td>
	<td>user_admin</td>
</tr>
<tr>
	<td>type</td>
	<td>id=login_psw</td>
	<td>user_admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=search</td>
	<td>3553817219</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>search</td>
	<td>w</td>
</tr>
<tr>
	<td>type</td>
	<td>id=38</td>
	<td>Pranesimas su api provider</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>id=38</td>
	<td>w</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>SMS is sent</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>reseller</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>reseller1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>SMS </td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/stats/action_log</td>
	<td></td>
</tr>
<tr>
	<td>assertValue</td>
	<td>id=s_user</td>
	<td></td>
</tr>
<tr>
	<td>runScript</td>
	<td>javascript {this.browserbot.getCurrentWindow().document.getElementById('s_user_id').value='2'}	</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=s_user</td>
	<td>Test User L a s t N a m e</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>id=s_user</td>
	<td>w</td>
</tr>
<tr>
	<td>click</td>
	<td>id=s_user</td>
	<td>Test User L a s t N a m e</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form</td>
	<td></td>
</tr>
<tr>
	<td>waitForCondition</td>
	<td>selenium.browserbot.getCurrentWindow().Ajax.activeRequestCount == 0	</td>
	<td>15000</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>http://127.0.0.1/?Test+User&amp;L+a+s+t+N+a+m+e</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/permissions/edit/12?group_type=reseller</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sms_addon_2</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>name=user_id</td>
	<td>label=Test Reseller</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/3</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=tariff_id</td>
	<td>label=testinis_tariff_sms</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>User updated</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/list</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=#delete_link_6 &gt; img[alt=&quot;Delete&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Tariff was not deleted<br /> * It is used by some User(s): Test User L a s t N a m e, Test Reseller, Test Accountant, Test_reseller_1, Test_user_1, Test_user_3</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>tariff_name</td>
	<td>asd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=tariff_purpose_user_wholesale</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Tariff successfully created</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_edit/1</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>lcr_name</td>
	<td>testinis_</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>LCR successfully updated</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcrs</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>delete_link_1</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>LCR was not deleted</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/1</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>name=select_prov</td>
	<td>label=asd</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Provider successfully added</td>
	<td></td>
</tr>
<!--begin be charge-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=1&amp;status=007</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=2&amp;status=008</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=4&amp;status=009</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=5&amp;status=010</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=6&amp;status=011</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=8&amp;status=012</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>You are not authorized to view this page</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/101</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>40010.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1990.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/102</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>60011.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_2989.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/104</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>20013.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1987.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/105</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>30014.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_986.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/106</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>10015.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1985.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/108</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>user_balance_value</td>
	<td>16017.0000 USD</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_7983.0</td>
	<td></td>
</tr>
<!--begin su charge-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=1&amp;status=002&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=2&amp;status=002&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=4&amp;status=004&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=5&amp;status=005&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=6&amp;status=006&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=8&amp;status=006&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>You are not authorized to view this page</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/101</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1990.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/102</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_2989.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/104</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1987.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/105</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_986.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/106</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1985.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/108</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_7983.0</td>
	<td></td>
</tr>
<!--repeat callback-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=1&amp;status=007&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=2&amp;status=008&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=4&amp;status=009&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=5&amp;status=010&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=6&amp;status=011&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=8&amp;status=012&amp;charge=15</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>You are not authorized to view this page</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/101</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1990.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/102</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_2989.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/104</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1987.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/105</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_986.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/106</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_1985.0</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/edit/108</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>b_f_7983.0</td>
	<td></td>
</tr>
<!--verifay clickatell login-->
<tr>
	<td>open</td>
	<td>/billing/sms/provider_new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_name</td>
	<td>cli</td>
</tr>
<tr>
	<td>select</td>
	<td>prov_type</td>
	<td>label=Clickatell</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>login_clickatell</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_clickatell</td>
	<td>bla</td>
</tr>
<tr>
	<td>type</td>
	<td>password_clickatell</td>
	<td>bla2</td>
</tr>
<tr>
	<td>type</td>
	<td>provider_api_id</td>
	<td>33333</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=Add new Provider</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_name</td>
	<td>test3</td>
</tr>
<tr>
	<td>select</td>
	<td>prov_type</td>
	<td>label=Clickatell</td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>login_clickatell</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_clickatell</td>
	<td>grazus</td>
</tr>
<tr>
	<td>type</td>
	<td>password_clickatell</td>
	<td>grazus123</td>
</tr>
<tr>
	<td>type</td>
	<td>provider_sms_from</td>
	<td>www.grazus.lth</td>
</tr>
<tr>
	<td>type</td>
	<td>provider_api_id</td>
	<td>3215674</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>SMS Provider created</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/stats/action_log</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>id=action_type</td>
	<td>label=SMS_callback</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=type_107</td>
	<td>SMS_callback</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<!--callback status with bad sms_id-->
<tr>
	<td>open</td>
	<td>/billing/sms/sms_result?apiMsgId=123664&amp;status=010</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/permissions/edit/12?group_type=reseller</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>sms_addon_2</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/2</td>
	<td></td>
</tr>
<tr>
	<td>select</td>
	<td>tariff_id</td>
	<td>label=asd</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--email sms-->
<tr>
	<td>open</td>
	<td>/billing/sms/provider_edit/4</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>provider_sms_provider_domain</td>
	<td>@333.lt</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rates_list/7</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=L</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=New rate</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=6</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>5780</td>
	<td>1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rates_list/8</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=L</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=New rate</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=6</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>5780</td>
	<td>4</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--reseller users-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>reseller</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>reseller1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User Resellers</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>No available SMS Tariff</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/list</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=New tariff</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>tariff_name</td>
	<td>rtest</td>
</tr>
<tr>
	<td>click</td>
	<td>id=tariff_purpose_user_wholesale</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Tariff successfully created</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/rate_new/9?st=A</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=page_title_icon</td>
	<td>Add new rate to tariff</td>
</tr>
<tr>
	<td>type</td>
	<td>id=rate_9</td>
	<td>12</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Rates updated</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=L</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=New rate</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>link=6</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>5780</td>
	<td>6</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Rates updated</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=details_img_509</td>
	<td>6.0000</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/users</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User subscribed to SMS service: User Resellers</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//a[contains(@href, '/billing/sms/edit_user/5')]</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>tariff_id</td>
	<td></td>
</tr>
<tr>
	<td>assertElementNotPresent</td>
	<td>lcr_id</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<!--check balance-->
<tr>
	<td>assertTextPresent</td>
	<td>User updated</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/list</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>balance_5</td>
	<td>0.0000</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>login_as_link_5</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertElementPresent</td>
	<td>search</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>search</td>
	<td>370</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>search</td>
	<td>w</td>
</tr>
<tr>
	<td>type</td>
	<td>38</td>
	<td>66666y6y6y6y6y</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>38</td>
	<td>w</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/sqls/settings/functionality/show_advanced_rates_for_user</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>Not Found</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/sqls/settings/functionality/show_rates_for_users</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>Not Found</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/test/load_delta_sql/sqls/settings/functionality/show_rates_without_tax</td>
	<td></td>
</tr>
<tr>
	<td>assertTextNotPresent</td>
	<td>Not Found</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/edit_user/2</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>User updated</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>reseller</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>reseller1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/users/personal_details</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=balance</td>
	<td>0.0000 USD</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>user_admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>user_admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/user_rates/3?st=L</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=direction_507</td>
	<td>Lithuania</td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=prefix_507</td>
	<td>370</td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=destination_507</td>
	<td>Lithuania proper</td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=price_507</td>
	<td>4.0000</td>
</tr>
<!--security-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>accountant</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>accountant1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariffs</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/tariff_new</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/providers</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcrs</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_new</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/lcr_providers/2</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/remove_lcr_provider/2?prov=4</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Access Denied</td>
	<td></td>
</tr>
<!--====Login as 101-->
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>Test_user_1</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<!--====unicode-->
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>38</td>
	<td>žas šį</td>
</tr>
<tr>
	<td>keyUp</td>
	<td>38</td>
	<td>y</td>
</tr>
<tr>
	<td>assertValue</td>
	<td>remLen1</td>
	<td>64</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>admin</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin1</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/providers</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//img[@alt='Delete']</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>SMS Provider deleted</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/list</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#delete_link_7 &gt; img[alt=&quot;Delete&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=status</td>
	<td>Tariff deleted</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#delete_link_6 &gt; img[alt=&quot;Delete&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=notice</td>
	<td>Tariff was not deleted<br /> * It is used by some User(s): Test Reseller, Test Accountant, Test_reseller_1, Test_user_1, Test_user_3</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/tariffs/new</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>tariff_name</td>
	<td>testinis_tariff2</td>
</tr>
<tr>
	<td>click</td>
	<td>id=tariff_purpose_user_wholesale</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Tariff successfully created</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>css=#delete_link_10 &gt; img[alt=&quot;Delete&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>assertConfirmation</td>
	<td>Are you sure?</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=status</td>
	<td>Tariff deleted</td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/callc/logout</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>login_username</td>
	<td>Test_reseller_1</td>
</tr>
<tr>
	<td>type</td>
	<td>login_psw</td>
	<td>admin</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>commit</td>
	<td></td>
</tr>
<tr>
	<td>assertTextPresent</td>
	<td>Successfully logged in</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>/billing/sms/sms</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=notice</td>
	<td>Access Denied</td>
</tr>
</tbody></table>
</body>
</html>
